# Breeze - GenerateWebook

The `breeze` package subcommand `generate-webook` provides the code to build a Serverless a GET/POST Webhook in Swift based on AWS Lambda and APIGateway.

## Abstract

![AWS Serverles Webhook](../images/AWS-Serverless-Webhook.svg)

The generated template exposes a GET/POST webhook to the internet using the API Gateway. The lambdas implement the logic to retrieve data from GitHub using GET and POST.

## The command line tool

```bash
swift run breeze generate-webhook --help
```

output:

```bash
USAGE: breeze generate-webhook --config-file <config-file> --target-path <target-path> [--force-overwrite] [-y]

OPTIONS:
  -c, --config-file <config-file>
                          YML configurarion file
  -t, --target-path <target-path>
                          Target path
  -f, --force-overwrite   Force target path overwrite
  -y
  -h, --help              Show help information.
```

## Configuration file

Define a configuration file with the following format:
```yml
service: swift-breeze-webhook
awsRegion: us-east-1
swiftVersion: 5.7.3
swiftConfiguration: release
packageName: BreezeWebHook
buildPath: build
cors: false
breezeWebhook:
    targetName: WebHook
    httpPath: /webhook
```

Configuration parameters:
- `awsRegion`: AWS Region
- `swiftVersion`: Swift version
- `swiftConfiguration`: Swift configuration (debug or release)
- `packageName`: Swift Package name
- `buildPath`: Swift Package build path where the Lambda executable will be generated
- `cors`: Enable CORS (default: false)
- `breezeGithubWebhook`: Breeze GitHub Webhook configuration
    - `targetName`: The name of the target that will be generated by the Swift Package Manager
    - `httpPath`: The path of the API